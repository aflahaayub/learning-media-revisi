import{questions}from"./questions.js";import"./quiz.css";const start_btn=document.querySelector(".start_btn button"),info_box=document.querySelector(".info_box"),exit_btn=info_box.querySelector(".buttons .quit"),continue_btn=info_box.querySelector(".buttons .lanjut"),quiz_box=document.querySelector(".quiz_box"),result_box=document.querySelector(".result_box"),option_list=document.querySelector(".option_list"),timeText=document.querySelector(".timer .time_left_txt"),timeCount=document.querySelector(".timer .timer_sec");start_btn.onclick=()=>{info_box.classList.add("activeInfo")},exit_btn.onclick=()=>{info_box.classList.remove("activeInfo")},continue_btn.onclick=()=>{info_box.classList.remove("activeInfo"),quiz_box.classList.add("activeQuiz"),showQuetions(0),queCounter(1),startTimer(25)};let counter,counterLine,timeValue=25,que_count=0,que_numb=1,userScore=0,widthValue=0;const quit_quiz=result_box.querySelector(".buttons .quit");quit_quiz.onclick=()=>{window.location.reload()};const next_btn=document.querySelector("footer .next_btn"),bottom_ques_counter=document.querySelector("footer .total_que");function showQuetions(e){const t=document.querySelector(".que_text");let o="<span>"+questions[e].numb+". "+questions[e].question+"</span>",n='<div class="option"><span>'+questions[e].options[0]+'</span></div><div class="option"><span>'+questions[e].options[1]+'</span></div><div class="option"><span>'+questions[e].options[2]+'</span></div><div class="option"><span>'+questions[e].options[3]+"</span></div>";t.innerHTML=o,option_list.innerHTML=n;const s=option_list.querySelectorAll(".option");for(let e=0;e<s.length;e++)console.log(s[e]),s[e].onclick=()=>{console.log(s[e].textContent),optionSelected(s[e])}}function clicked(e){console.log(e)}next_btn.onclick=()=>{que_count<questions.length-1?(que_count++,que_numb++,showQuetions(que_count),queCounter(que_numb),clearInterval(counter),clearInterval(counterLine),startTimer(timeValue),startTimerLine(widthValue),timeText.textContent="Time Left",next_btn.classList.remove("show")):(clearInterval(counter),clearInterval(counterLine),showResult())};let tickIconTag='<div class="icon tick"><i class="fas fa-check"></i></div>',crossIconTag='<div class="icon cross"><i class="fas fa-times"></i></div>';function optionSelected(e){console.log(e),clearInterval(counter),clearInterval(counterLine);let t=e.textContent,o=questions[que_count].answer;const n=option_list.children.length;if(t==o)userScore+=1,e.classList.add("correct"),e.insertAdjacentHTML("beforeend",tickIconTag),console.log("Correct Answer"),console.log("Your correct answers = "+userScore);else{e.classList.add("incorrect"),e.insertAdjacentHTML("beforeend",crossIconTag),console.log("Wrong Answer");for(let e=0;e<n;e++)option_list.children[e].textContent==o&&(option_list.children[e].setAttribute("class","option correct"),option_list.children[e].insertAdjacentHTML("beforeend",tickIconTag),console.log("Auto selected correct answer."))}for(let e=0;e<n;e++)option_list.children[e].classList.add("disabled");next_btn.classList.add("show")}function showResult(){info_box.classList.remove("activeInfo"),quiz_box.classList.remove("activeQuiz"),result_box.classList.add("activeResult");const e=result_box.querySelector(".score_text");if(userScore>3){let t=`<span>Selamat, kamu berhasil menjawab ${userScore} dari ${questions.length}</span>`;e.innerHTML=t}else if(userScore>1){let t=`<span>Jawaban yang benar ada ${userScore} dari ${questions.length}. </span>`;e.innerHTML=t}else{let t=`<span> Jawaban yang benar hanya ${userScore} dari ${questions.length}. `;e.innerHTML=t}const t=userScore/questions.length*100;result_box.querySelector(".total_score").innerHTML=`<p>${t} </p>`}function startTimer(e){counter=setInterval((function(){if(timeCount.textContent=e,--e<9){let e=timeCount.textContent;timeCount.textContent="0"+e}if(e<0){clearInterval(counter),timeText.textContent="Time Off";const e=option_list.children.length;let t=questions[que_count].answer;for(let o=0;o<e;o++)option_list.children[o].textContent==t&&(option_list.children[o].setAttribute("class","option correct"),option_list.children[o].insertAdjacentHTML("beforeend",tickIconTag),console.log("Time Off: Auto selected correct answer."));for(let t=0;t<e;t++)option_list.children[t].classList.add("disabled");next_btn.classList.add("show")}}),1e3)}function queCounter(e){let t="<span><p>"+e+"</p> of <p>"+questions.length+"</p> Questions</span>";bottom_ques_counter.innerHTML=t}